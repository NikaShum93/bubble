# –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å —Å –∫–∞—Ä—Ç–∏–Ω–∫–æ–π

html_code_updated = """
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Bubble by Nika Shum</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      height: 100%;
      background: transparent;
    }

    #bubble-label {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-family: Arial, sans-serif;
      font-size: 14px;
      color: white;
      background: rgba(0, 0, 0, 0.6);
      padding: 6px 12px;
      border-radius: 12px;
      pointer-events: none;
      z-index: 10;
    }

    #wrapper {
      position: absolute;
      width: 100%;
      height: 100%;
    }

    .bubble {
      position: absolute;
      pointer-events: none;
    }
  </style>
</head>
<body>
<div id="wrapper">
  <div id="bubble-label">ü´ß Bubble by Nika Shum</div>
  <!-- –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É –ø—É–∑—ã—Ä—å–∫–∞ -->
  <img src="" id="bubble-img" class="bubble" style="width: 50px; height: 50px; opacity: 0.5;">
</div>

<script>
  const label = document.getElementById('bubble-label');
  const wrapper = document.getElementById('wrapper');
  const bubbleImg = document.getElementById('bubble-img');

  let x = window.innerWidth / 2;
  let y = window.innerHeight / 2;

  // –ü—Ä–æ—á–∏—Ç–∞–µ–º —Å–∫–æ—Ä–æ—Å—Ç—å –∏–∑ –∞—Ç—Ä–∏–±—É—Ç–∞ title iframe
  let speed = 1.5 + Math.random() * 0.5; // Default speed between 1.5 and 2

  // –ü–æ–ø—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å –∏–∑ alt –∏–ª–∏ title –∞—Ç—Ä–∏–±—É—Ç–∞
  try {
    const frames = window.parent.document.getElementsByTagName('iframe');
    for (let frame of frames) {
      if (frame.contentWindow === window && frame.title.includes('speed=')) {
        const match = frame.title.match(/speed=([0-9.]+)/);
        if (match) speed = parseFloat(match[1]);
      }
    }
  } catch (e) {}

  let dx = (Math.random() * 2 - 1) * speed;
  let dy = (Math.random() * 2 - 1) * speed;

  function animate() {
    // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –æ–±—ä–µ–∫—Ç–∞, —Å –∫–æ—Ç–æ—Ä—ã–º —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
    const bubbleRect = bubbleImg.getBoundingClientRect();
    const xCenter = bubbleRect.left + bubbleRect.width / 2;
    const yCenter = bubbleRect.top + bubbleRect.height / 2;

    // –ù–æ–≤—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–ª—è –ø—É–∑—ã—Ä—å–∫–∞
    x = xCenter + dx * 2;
    y = yCenter + dy * 2;

    // –û–≥—Ä–∞–Ω–∏—á–∞–µ–º –¥–≤–∏–∂–µ–Ω–∏–µ –ø—É–∑—ã—Ä—å–∫–∞ –≤–Ω—É—Ç—Ä–∏ —ç–∫—Ä–∞–Ω–∞
    if (x <= 0 || x >= window.innerWidth) dx = -dx;
    if (y <= 0 || y >= window.innerHeight) dy = -dy;

    // –ü—Ä–∏–º–µ–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫ –ø–æ–∑–∏—Ü–∏–∏ –ø—É–∑—ã—Ä—å–∫–∞
    bubbleImg.style.transform = `translate(${x - bubbleRect.width / 2}px, ${y - bubbleRect.height / 2}px)`;

    requestAnimationFrame(animate);
  }

  // –°–∫—Ä—ã—Ç–∏–µ –º–µ—Ç–∫–∏, –∫–æ–≥–¥–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ
  window.addEventListener('load', () => {
    setTimeout(() => {
      if (window.self !== window.top) {
        label.style.display = 'none';
      }
    }, 500);
    animate();
  });
</script>
</body>
</html>
"""

# –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–∞–π–ª
file_path_updated = "/mnt/data/bubble_updated.html"
with open(file_path_updated, "w") as f:
    f.write(html_code_updated)

file_path_updated
