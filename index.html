
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Bubble by Nika Shum</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      height: 100%;
      background: transparent;
    }

    #bubble-label {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-family: Arial, sans-serif;
      font-size: 14px;
      color: white;
      background: rgba(0, 0, 0, 0.6);
      padding: 6px 12px;
      border-radius: 12px;
      pointer-events: none;
      z-index: 10;
    }

    #wrapper {
      position: absolute;
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>
<div id="wrapper">
  <div id="bubble-label">ðŸ«§ Bubble by Nika Shum</div>
</div>

<script>
  const label = document.getElementById('bubble-label');
  const wrapper = document.getElementById('wrapper');

  let x = window.innerWidth / 2;
  let y = window.innerHeight / 2;

  // Default speed multiplier
  let speed = 1.5 + Math.random() * 0.5; // Between 1.5 and 2

  // Try to read speed from iframe alt attribute
  try {
    const frames = window.parent.document.getElementsByTagName('iframe');
    for (let frame of frames) {
      if (frame.contentWindow === window && frame.title.includes('speed=')) {
        const match = frame.title.match(/speed=([0-9.]+)/);
        if (match) speed = parseFloat(match[1]);
      }
    }
  } catch (e) {}

  let dx = (Math.random() * 2 - 1) * speed;
  let dy = (Math.random() * 2 - 1) * speed;

  function animate() {
    x += dx;
    y += dy;

    // Bounce on edges
    if (x <= 0 || x >= window.innerWidth) dx = -dx;
    if (y <= 0 || y >= window.innerHeight) dy = -dy;

    wrapper.style.transform = `translate(${x - window.innerWidth / 2}px, ${y - window.innerHeight / 2}px)`;
    requestAnimationFrame(animate);
  }

  // Hide label when in presentation (not edit mode)
  window.addEventListener('load', () => {
    setTimeout(() => {
      if (window.self !== window.top) {
        label.style.display = 'none';
      }
    }, 500);
    animate();
  });
</script>
</body>
</html>
